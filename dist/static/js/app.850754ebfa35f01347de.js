webpackJsonp([1],{"2nVa":function(t,e,n){"use strict";var s=n("Dd8w"),a=n.n(s),i=n("SGng"),r=n("NYxO");e.a={name:"AddStudent",data:function(){return{faculties:i.a.faculties,depts:new Array,courses:new Array,student:{fname:"",lname:"",dob:"",regnum:"",level:"",faculty:"",department:"",cos:""},isLoading:!1,error:"",validated:!1}},computed:a()({disable_depts:function(){return 0===this.depts.length},disable_course:function(){return 0===this.courses.length}},Object(r.c)(["create_status"])),methods:a()({},Object(r.b)(["addStudent"]),{getDepts:function(){var t=i.a.departments,e=this.student.faculty;this.depts=""!=e?t[e]:new Array},getCourses:function(){var t=i.a.courses,e=this.student.department;this.courses=""!=e?t[e]:new Array},addNewStudent:function(){var t=["fname","lname","dob","regnum","level","faculty","department","cos"],e=this.student;this.isLoading=!0;var n=0,s=0;t.forEach(function(t){e.hasOwnProperty(t)&&""!=e[t]?n++:s++},this),s>0?(this.isLoading=!1,this.error="You can't submit an empty form."):0===s&&(this.addStudent(this.student),this.validated=!0,this.isLoading=!1)}})}},"40zj":function(t,e,n){"use strict";var s=n("Xxa5"),a=n.n(s),i=n("//Fk"),r=n.n(i),c=n("exGp"),u=n.n(c),o=n("856R"),l=n("Lmq1"),d=this,f={students:[],create_error:{},create_status:void 0},v={allStudents:function(t){return t.students},create_status:function(t){return t.create_status}},m={addStudent:function(){var t=u()(a.a.mark(function t(e,n){var s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){return new r.a(function(t,s){e.create_status="Pending",o.a.create(n).then(function(e){t(e)}).catch(function(t){s(t)})}).then(function(t){console.log({response:t}),e.create_status=t.data.status}).catch(function(t){e.create_error.error=t.message})},t.next=3,s();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,d)}));return function(e,n){return t.apply(this,arguments)}}(),getStudents:function(){var t=u()(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){return new r.a(function(t,n){e.create_status="Pending",o.a.fetchStudents().then(function(e){t(e)}).catch(function(t){n(t)})}).then(function(t){console.log({response:t}),e.students=l.a._accessor(t.data.data)}).catch(function(t){console.log({response:t}),e.create_error.error=t.message})},t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,d)}));return function(e){return t.apply(this,arguments)}}()},p={addStudent:function(t,e){return(0,t.commit)("addStudent",e)},getStudents:function(t,e){return(0,t.commit)("getStudents")}};e.a={state:f,getters:v,mutations:m,actions:p}},"5BTc":function(t,e){},"856R":function(t,e,n){"use strict";var s=n("Xxa5"),a=n.n(s),i=n("//Fk"),r=n.n(i),c=n("exGp"),u=n.n(c),o=n("rJOJ"),l=this;e.a={create:function(){var t=u()(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){return new r.a(function(t,n){o.a.post("/new",e).then(function(e){t(e)}).catch(function(t){n(t)})})},t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,l)}));return function(e){return t.apply(this,arguments)}}(),fetchStudents:function(){var t=u()(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){return new r.a(function(t,e){o.a.get("/getstudents").then(function(e){t(e)}).catch(function(t){e(t)})})},t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,l)}));return function(e){return t.apply(this,arguments)}}()}},BDHg:function(t,e,n){"use strict";var s=n("2nVa"),a=n("MSwi"),i=n("VU/8"),r=i(s.a,a.a,!1,null,null,null);e.a=r.exports},"E/Kj":function(t,e,n){"use strict";var s=n("sxXZ"),a=n("cJI5"),i=n("VU/8"),r=i(s.a,a.a,!1,null,null,null);e.a=r.exports},IcnI:function(t,e,n){"use strict";var s=n("7+uW"),a=n("NYxO"),i=n("mUbh"),r=(n.n(i),n("ukYY")),c=(n.n(r),n("40zj"));s.a.use(a.a),e.a=new a.a.Store({actions:i,mutations:r,modules:{Student:c.a}})},J77H:function(t,e,n){"use strict";var s=n("Dd8w"),a=n.n(s),i=n("NYxO");e.a={name:"allStudents",created:function(){return this.getStudents()},computed:a()({},Object(i.c)(["allStudents"])),methods:a()({},Object(i.b)({getStudents:"getStudents"}))}},Lmq1:function(t,e,n){"use strict";e.a={_accessor:function(t){var e=new Array;for(var n in t)e.push(t[n]);return e}}},M93x:function(t,e,n){"use strict";function s(t){n("5BTc"),n("vIR0"),n("fhAP")}var a=n("xJD8"),i=n("tKY/"),r=n("VU/8"),c=s,u=r(a.a,i.a,!1,c,null,null);e.a=u.exports},MAC6:function(t,e,n){"use strict";var s=n("J77H"),a=n("hfO8"),i=n("VU/8"),r=i(s.a,a.a,!1,null,null,null);e.a=r.exports},MSwi:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),!0===t.validated?n("div",{staticClass:"notification is-success"},[n("h3",{staticClass:"subtitle is-5",staticStyle:{"text-align":"center"}},[t._v(t._s(t.create_status.toUpperCase()))])]):""!==t.error?n("div",{staticClass:"notification is-danger"},[n("h3",{staticClass:"subtitle is-5"},[t._v(t._s(t.error))])]):t._e(),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control has-icons-left has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.fname,expression:"student.fname"}],staticClass:"input",attrs:{type:"text",placeholder:"First name"},domProps:{value:t.student.fname},on:{input:function(e){e.target.composing||t.$set(t.student,"fname",e.target.value)}}}),t._v(" "),t._m(1)])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control has-icons-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.lname,expression:"student.lname"}],staticClass:"input",attrs:{type:"text",placeholder:"Last name"},domProps:{value:t.student.lname},on:{input:function(e){e.target.composing||t.$set(t.student,"lname",e.target.value)}}}),t._v(" "),t._m(2)])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control has-icons-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.dob,expression:"student.dob"}],staticClass:"input",attrs:{type:"date",placeholder:"Date of birth"},domProps:{value:t.student.dob},on:{input:function(e){e.target.composing||t.$set(t.student,"dob",e.target.value)}}}),t._v(" "),t._m(3)])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control has-icons-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.regnum,expression:"student.regnum"}],staticClass:"input",attrs:{type:"text",placeholder:"Registration number"},domProps:{value:t.student.regnum},on:{input:function(e){e.target.composing||t.$set(t.student,"regnum",e.target.value)}}}),t._v(" "),t._m(4)])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control has-icons-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.level,expression:"student.level"}],staticClass:"input",attrs:{type:"text",placeholder:"Level"},domProps:{value:t.student.level},on:{input:function(e){e.target.composing||t.$set(t.student,"level",e.target.value)}}}),t._v(" "),t._m(5)])]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"control has-icons-left"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.student.faculty,expression:"student.faculty"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.student,"faculty",e.target.multiple?n:n[0])},t.getDepts]}},[n("option",{attrs:{value:""}},[t._v("Select faculty")]),t._v(" "),t._l(t.faculties,function(e,s){return n("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),t._m(6)])]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"control has-icons-left"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.student.department,expression:"student.department"}],attrs:{disabled:t.disable_depts},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.student,"department",e.target.multiple?n:n[0])},t.getCourses]}},[n("option",{attrs:{value:""}},[t._v("Select dept...")]),t._v(" "),t._l(t.depts,function(e,s){return n("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),t._m(7)])]),t._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"control has-icons-left"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.student.cos,expression:"student.cos"}],attrs:{disabled:t.disable_course},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.student,"cos",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("Select course")]),t._v(" "),t._l(t.courses,function(e,s){return n("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),t._m(8)])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("button",{class:{button:!0,"is-success":!0,"is-loading":t.isLoading},on:{click:t.addNewStudent}},[t._v("\r\n                Add\r\n            ")])])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"title is-6"},[n("i",{staticClass:"fa fa-user-plus"}),t._v(" "),n("span",[t._v("Add Students here.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-calendar"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-id-card"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-arrows-v"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-university"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-graduation-cap"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-graduation-cap"})])}],i={render:s,staticRenderFns:a};e.a=i},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a=n("M93x"),i=n("YaEn"),r=n("IcnI");s.a.config.productionTip=!1,new s.a({el:"#app",store:r.a,router:i.a,template:"<App/>",components:{App:a.a}})},RwR8:function(t,e,n){"use strict";e.a={name:"navbar",data:function(){return{}}}},SGng:function(t,e,n){"use strict";e.a={faculties:["Faculty of sciences","Faculty of arts","Faculty of Engineering"],departments:{"Faculty of sciences":["Mathematics","Geography","Biological sciences","Geology","Microbiology","Physics","Chemistry"],"Faculty of arts":["English","History","Archeology"],"Faculty of Engineering":["Mechanical Engineering","Electrical Engineering","Chemical Engineering"]},courses:{Mathematics:["B.Sc. Mathematics","B.Sc. Computer science","B.Sc. Statistics"],Geography:["B.Sc. Geography"],"Biological sciences":["B.Sc. Biological sciences"],Geology:["B.Sc. Geology"],Microbiology:["B.Sc. Microbiology"],Physics:["B.Sc Physics"],Chemistry:["B.Sc. Chemistry"],English:["B.A. English","BA Literature"],History:["B.A History"],Archeology:["B.A Archeology"],"Mechanical Engineering":["B.Eng. Mechanical Engineering"],"Electrical Engineering":["B.Eng. Electrical Engineering"],"Chemical Engineering":["B.Eng. Chemical Engineering"]}}},YaEn:function(t,e,n){"use strict";var s=n("7+uW"),a=n("/ocq"),i=n("BDHg"),r=n("MAC6");s.a.use(a.a),e.a=new a.a({mode:"history",routes:[{path:"/",name:"AddStudent",component:i.a},{path:"/allstudents",name:"AllStudents",component:r.a}]})},cJI5:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabs is-centered is-boxed is-small"},[n("ul",[n("li",{class:{"is-active":t.route.isRegisterActive},on:{click:t.checkPresentRoute}},[n("router-link",{attrs:{to:"/"}},[t._v("Register")])],1),t._v(" "),n("li",{class:{"is-active":t.route.isViewStudentActive},on:{click:t.checkPresentRoute}},[n("router-link",{attrs:{to:"/allstudents"}},[t._v("View Students")])],1)])])},a=[],i={render:s,staticRenderFns:a};e.a=i},dFzb:function(t,e,n){"use strict";var s=n("RwR8"),a=n("sXDM"),i=n("VU/8"),r=i(s.a,a.a,!1,null,null,null);e.a=r.exports},fhAP:function(t,e){},hfO8:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),t._l(t.allStudents,function(e,s){return n("blockquote",{key:s},[n("p",[t._v(t._s(e.first_name))]),t._v(" "),n("p",[t._v(t._s(e.reg_num))])])})],2)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"title is-6"},[n("i",{staticClass:"fa fa-user"}),t._v(" "),n("span",[t._v("All students")])])}],i={render:s,staticRenderFns:a};e.a=i},mUbh:function(t,e){},rJOJ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var s=n("mtWM"),a=n.n(s),i=a.a.create({baseURL:"https://schoolmanagementsys-cqntiloreq.now.sh/students",timeout:1e5})},sXDM:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("a",{staticClass:"navbar-item",staticStyle:{color:"#fff"}},[n("strong",[t._v("SMS")])])])])}],i={render:s,staticRenderFns:a};e.a=i},sxXZ:function(t,e,n){"use strict";e.a={name:"mainTab",mounted:function(){return this.checkPresentRoute()},data:function(){return{route:{isRegisterActive:!1,isViewStudentActive:!1}}},methods:{checkPresentRoute:function(){var t=window.location.pathname.split("/",3),e="/"+t[1],n={isRegisterActive:!1,isViewStudentActive:!1};switch(e){case"/":n.isRegisterActive=!0,this.route=n;break;case"/allstudents":n.isViewStudentActive=!0,this.route=n;break;default:this.isRegisterActive=!0}}}}},"tKY/":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("navbar"),t._v(" "),n("section",{staticClass:"section"},[n("div",{staticClass:"container columns"},[n("span",{staticClass:"column is-one-quarter"}),t._v(" "),n("span",{staticClass:"column"},[n("main-tab"),t._v(" "),n("div",{staticClass:"card",staticStyle:{"margin-top":"-25px"}},[n("router-view")],1)],1),t._v(" "),n("span",{staticClass:"column is-one-quarter"})])])],1)},a=[],i={render:s,staticRenderFns:a};e.a=i},ukYY:function(t,e){},vIR0:function(t,e){},xJD8:function(t,e,n){"use strict";var s=n("dFzb"),a=n("E/Kj");e.a={name:"app",components:{navbar:s.a,mainTab:a.a}}}},["NHnr"]);
//# sourceMappingURL=app.850754ebfa35f01347de.js.map